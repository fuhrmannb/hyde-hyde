<ul class="timeline">
    {{ range ((where .Pages "Type" "experience").ByParam "dateStart").Reverse }}
        {{ $date := print .Params.DateStart " - " .Params.DateEnd }}
        {{ if eq .Params.DateStart .Params.DateEnd }}
            {{ $date = .Params.DateStart }}
        {{ end }}
        <li class="timeline-content" data-date="{{ $date }}">
            <div class="title">
                {{ .Params.Role }}
            </div>
            <div class="subtitle">
                {{ $company := .Params.Company }}
                {{ with .Params.Icon }}
                    {{ $strippedSlash := (. | replaceRE "^(/)+(.*)" "$2") }}
                    {{ $icon := (printf "%s/%s" $.Site.BaseURL $strippedSlash) }}
                    <img src="{{ $icon }}" alt="{{ $company }}">
                {{ end }}
                {{ $company }}
            </div>
            <div class="description">
                {{ .Content }}
            </div>
        </li>
    {{ end }}
</ul>